<!DOCTYPE html><html class="no-js"><head><title>The Algorithmic Sketchbook</title><link rel="stylesheet" href="assets/main.css">
<script type="text/javascript" language="javascript" src="codemirror/lib/codemirror.js"></script><script type="text/javascript" language="javascript" src="codemirror/addon/search/searchcursor.js"></script><script type="text/javascript" language="javascript" src="codemirror/addon/search/search.js"></script><script type="text/javascript" language="javascript" src="codemirror/addon/dialog/dialog.js"></script><script type="text/javascript" language="javascript" src="codemirror/addon/edit/matchbrackets.js"></script><script type="text/javascript" language="javascript" src="codemirror/addon/edit/closebrackets.js"></script><script type="text/javascript" language="javascript" src="codemirror/addon/comment/comment.js"></script><script type="text/javascript" language="javascript" src="codemirror/addon/wrap/hardwrap.js"></script><script type="text/javascript" language="javascript" src="codemirror/addon/fold/foldcode.js"></script><script type="text/javascript" language="javascript" src="codemirror/addon/fold/brace-fold.js"></script><script type="text/javascript" language="javascript" src="codemirror/mode/javascript/javascript.js"></script><script type="text/javascript" language="javascript" src="codemirror/keymap/sublime.js"></script><script type="text/javascript" language="javascript" src="js/jquery-2.1.1.min.js"></script><script language="javascript" type="text/javascript" src="libraries/p5.js"></script><script language="javascript" type="text/javascript" src="libraries/p5.dom.js"></script></head><body><h1>single-line-log</h1><p>Node.js module that keeps writing to the same line in the console (or a stream). Very useful when you write progress bars, or a status message during longer operations. Supports multilines.</p>
<h2>Installation</h2><pre><code>npm install single-line-log
</code></pre><h2>Usage</h2><pre><code class="language-js">var log = require(&#39;single-line-log&#39;).stdout;
// or pass any stream:
// var log = require(&#39;single-line-log&#39;)(process.stdout);

var read = 0;
var size = fs.statSync(&#39;super-large-file&#39;).size;

var rs = fs.createReadStream(&#39;super-large-file&#39;);
rs.on(&#39;data&#39;, function(data) {
    read += data.length;
    var percentage = Math.floor(100*read/size);

    // Keep writing to the same two lines in the console
    log(&#39;Writing to super large file\n[&#39; + percentage + &#39;%]&#39;, read, &#39;bytes read&#39;);
});
</code></pre>
<h2>.clear()</h2><p>Clears the log (i.e., writes a newline).</p>
<pre><code class="language-js">var log = require(&#39;single-line-log&#39;).stdout;

log(&#39;Line 1&#39;);
log.clear();
log(&#39;Line 2&#39;);
</code></pre>
<h2>.stdout</h2><p>Outputs to <code>process.stdout</code>.</p>
<h2>.stderr</h2><p>Outputs to <code>process.stderr</code>.</p>
<h2>License</h2><p>MIT</p></body></html>